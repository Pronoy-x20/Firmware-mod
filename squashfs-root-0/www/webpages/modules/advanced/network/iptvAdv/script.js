jQuery.su.moduleManager.define("iptvAdv",{services:["moduleLoader","moduleManager"],models:["iptvVlan"],stores:[],deps:["iptvVlanAdv"],views:["iptvAdvView"],listeners:{ev_on_launch:function(e,i,a,n,t,l,p){p.moduleLoader.load({module:"iptvAdv"},{module:"iptvVlanAdv",view:"iptvVlanView"},a.iptvAdvView.iptvVlanLoader,function(){p.moduleLoader.load({module:"iptvAdv"},{module:"iptvMultiAdv"},a.iptvAdvView.iptvMultiLoader,function(){var e=p.moduleManager.get("iptvVlanAdv");e.setMode(e.MODE.ADVANCED),e.startup()})})}},init:function(e,a,n,i,t,l){this.configViews({id:"iptvAdvView",items:[{id:"iptv-vlan-loader"},{id:"iptv-multi-loader"}]}),this.control({".index-common-save-btn":{"ev_will_auto_save":function(e,i){i.preventDefault(),n.iptvVlan.validate()&&t.iptvVlanAdv.atLeastOne()&&t.iptvVlanAdv.vidSame()&&n.iptvVlan.submit({success:function(e){e.cfg_changed&&a.iptvAdvView.iptvRebootMsg.show(function(){a.iptvAdvView.iptvRebootProgress.animate({duration:15e3,percentageStart:0,percentageEnd:100,callback:function(){a.iptvAdvView.iptvRebootMsg.hide()}})})}})}}}),this.listen()}},function(e,i,a,n,t,l){return{}}),$.su.modelManager.define("iptvVlan",{type:"model",fields:[{name:"enable"},{name:"mode"},{name:"internetVid",mapping:"internet_vid",allowBlank:!1,vtype:{vtype:"number",min:2,max:4094,minMaxText:$.su.CHAR.NETWORK_IPTV.VALUE_TIPS},serialize:function(e){return Number(e)}},{name:"internetVprio",mapping:"internet_vprio"},{name:"internetTag",mapping:"internet_tag"},{name:"iptvTag",mapping:"iptv_tag"},{name:"ipphoneVid",mapping:"ipphone_vid",allowBlank:!1,vtype:{vtype:"number",min:2,max:4094,minMaxText:$.su.CHAR.NETWORK_IPTV.VALUE_TIPS},serialize:function(e){return Number(e)}},{name:"ipphoneVprio",mapping:"ipphone_vprio"},{name:"iptvVid",mapping:"iptv_vid",allowBlank:!1,vtype:{vtype:"number",min:2,max:4094,minMaxText:$.su.CHAR.NETWORK_IPTV.VALUE_TIPS},serialize:function(e){return Number(e)}},{name:"iptvVprio",mapping:"iptv_vprio"},{name:"mciptvVid",mapping:"mciptv_vid",allowBlank:!1,vtype:{vtype:"number",min:2,max:4094,minMaxText:$.su.CHAR.NETWORK_IPTV.VALUE_TIPS},serialize:function(e){return Number(e)}},{name:"mciptvVprio",mapping:"mciptv_vprio"},{name:"mciptvEnable",mapping:"mciptv_enable"},{name:"cfg_changed"},{name:"igmp_enable"},{name:"igmp_snooping_enable",defaultValue:"on"},{name:"igmp_version"},{name:"qos_iptv_compatible"},{name:"wait_time"},{name:"configure"},{name:"internetItem",mapping:"internet_item"},{name:"iptvItem",mapping:"iptv_item"},{name:"ipphoneItem",mapping:"ipphone_item"},{name:"mciptvItem",mapping:"mciptv_item"},{name:"ports"},{name:"porttype"},{name:"seltype"},{name:"supportModeList",mapping:"support_mode_list"}],proxy:{url:$.su.url("/admin/iptv?form=setting")}}),jQuery.su.moduleManager.define("iptvMultiAdv",{deps:[],services:[],models:["iptvVlan"],stores:["iptvVersionStore"],views:["iptvMultiView"],listeners:{ev_on_launch:function(e,i,a,n,t,l,p){}},init:function(e,i,a,n,t,l){this.control({}),this.listen()}},function(e,i,a,n,t,l){return{}}),jQuery,$.su.storeManager.define("iptvVersionStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[{name:$.su.CHAR.NETWORK_IPTV.V_2,value:"2",boxlabel:"version2"},{name:$.su.CHAR.NETWORK_IPTV.V_3,value:"3",boxlabel:"version3"}]}),function(s){s.su.moduleManager.define("iptvVlanAdv",{deps:["navigatorController","quickSetup"],services:["device","moduleManager","ajax"],models:["iptvVlan","lanAdvLinkAggModel","quickSetupModel","qsSummaryModel","iptvPortModel"],stores:["modeStore","lanStore","lanTagStore","lanPriorityStore","iptvVlanStore"],views:["iptvVlanView"],listeners:{ev_on_launch:function(e,i,a,n,t,l,p){"kr"===p.device.getConfig().country&&i.handleKRSet()}},init:function(v,V,r,e,a,t){this.control({"#iptv-vlan-msg":{"ev_msg_ok":function(e,i){v.getMode()==v.MODE.ADVANCED&&setTimeout(function(){a.navigatorController.goTo("lanAdv")},300)},"ev_msg_cancel":function(e,i){v.getMode()==v.MODE.ADVANCED&&r.iptvVlan.mode.setValue("")}},"#iptvLan1":{"ev_view_change":function(e,i,a){var n=V.iptvVlanView.lan1.getValue(),t=V.iptvVlanView.lan2.getValue(),l=V.iptvVlanView.lan3.getValue(),p=V.iptvVlanView.lan4.getValue();r.iptvVlan.porttype.setValue([n,t,l,p].join(" "))}},"#iptvLan2":{"ev_view_change":function(e,i,a){var n=V.iptvVlanView.lan1.getValue(),t=V.iptvVlanView.lan2.getValue(),l=V.iptvVlanView.lan3.getValue(),p=V.iptvVlanView.lan4.getValue();r.iptvVlan.porttype.setValue([n,t,l,p].join(" "))}},"#iptvLan3":{"ev_view_change":function(e,i,a){var n=V.iptvVlanView.lan1.getValue(),t=V.iptvVlanView.lan2.getValue(),l=V.iptvVlanView.lan3.getValue(),p=V.iptvVlanView.lan4.getValue();r.iptvVlan.porttype.setValue([n,t,l,p].join(" "))}},"#iptvLan4":{"ev_view_change":function(e,i,a){var n=V.iptvVlanView.lan1.getValue(),t=V.iptvVlanView.lan2.getValue(),l=V.iptvVlanView.lan3.getValue(),p=V.iptvVlanView.lan4.getValue();r.iptvVlan.porttype.setValue([n,t,l,p].join(" "))}}}),t.device.getLanAgg()&&r.lanAdvLinkAggModel.load(),this.listen({"models.quickSetupModel.wanPortStatus":{"ev_value_change":function(e,i,a){v.getMode()===v.MODE.QUICK_SETUP&&V.iptvVlanView["lan4"].setLabelField("1000WAN"===i?s.su.CHAR.NETWORK_MAP.PORT_2500LAN:s.su.CHAR.NETWORK_MAP.PORT_1000LAN)}},"models.iptvVlan.enable":{"ev_value_change":function(e,i,a){r.iptvVlan.mode.hide(),V.iptvVlanView.iptvConfigWrap.hide();var n=r.iptvVlan.mode.getValue();("on"==i||v.getMode()===v.MODE.QUICK_SETUP&&"none"!==n)&&(r.iptvVlan.mode.show(),r.iptvVlan.mode.setValue(n),V.iptvVlanView.iptvConfigWrap.show())}},"models.iptvVlan.mode":{"ev_value_change":function(e,i,a){var n=v.getMode();"none"!=i?("none"==a&&n==v.MODE.QUICK_SETUP&&V.iptvVlanView.iptvConfigWrap.show(),i!=a&&t.ajax.request({proxy:"iptvProxy",data:{operation:"change",isp:i},success:function(e){r.iptvVlan.replaceData({"configure":e.configure,"internetItem":e.internet_item,"internetTag":e.internet_tag,"internetVid":e.internet_vid,"internetVprio":e.internet_vprio,"ipphoneItem":e.ipphone_item,"ipphoneVid":e.ipphone_vid,"ipphoneVprio":e.ipphone_vprio,"iptvItem":e.iptv_item,"iptvTag":e.iptv_tag,"iptvVid":e.iptv_vid,"iptvVprio":e.iptv_vprio,"mciptvEnable":e.mciptv_enable,"mciptvItem":e.mciptv_item,"mciptvVid":e.mciptv_vid,"mciptvVprio":e.mciptv_vprio,"ports":e.ports,"porttype":e.porttype,"seltype":e.seltype})}})):V.iptvVlanView.iptvConfigWrap.hide()}},"models.iptvVlan.mciptvEnable":{"ev_value_change":function(e,i,a){"on"==i?(r.iptvVlan.mciptvVid.enable(),r.iptvVlan.mciptvVprio.enable()):(r.iptvVlan.mciptvVid.disable(),r.iptvVlan.mciptvVprio.disable())}},"models.iptvVlan.internetTag":{"ev_value_change":function(e,i,a){"on"==i?(r.iptvVlan.internetVid.enable(),r.iptvVlan.internetVprio.enable()):(r.iptvVlan.internetVid.disable(),r.iptvVlan.internetVprio.disable(),"off"==r.iptvVlan.iptvTag.getValue()&&r.iptvVlan.iptvTag.setValue("on"))}},"models.iptvVlan.iptvTag":{"ev_value_change":function(e,i,a){"on"==i?(r.iptvVlan.iptvVid.enable(),r.iptvVlan.iptvVprio.enable(),r.iptvVlan.mciptvEnable.enable(),r.iptvVlan.mciptvEnable.setTips("")):(r.iptvVlan.iptvVid.disable(),r.iptvVlan.iptvVprio.disable(),r.iptvVlan.mciptvEnable.setValue("off"),r.iptvVlan.mciptvEnable.disable(),r.iptvVlan.mciptvEnable.setTips(s.su.CHAR.NETWORK_IPTV.IPTV_MUL_TIP),"off"==r.iptvVlan.internetTag.getValue()&&r.iptvVlan.internetTag.setValue("on"))}},"models.iptvVlan":{"ev_loaded":function(e,i){if(v.isRunning()){V.iptvVlanView.internetVlan.hide(),V.iptvVlanView.voipVlan.hide(),V.iptvVlanView.iptvVlanV.hide(),V.iptvVlanView.mciptvVlan.hide(),V.iptvVlanView.allVlan.show();var a=i,n="on"==a.configure&&v.isEditable()?"enable":"disable";if("on"==a["internetItem"])if(V.iptvVlanView.internetVlan.show(),r.iptvVlan.internetVid.setValue(a["internetVid"]),r.iptvVlan.internetVprio.setValue(a["internetVprio"]),r.iptvVlan.internetTag.setValue(a["internetTag"]),"enable"==n)r.iptvVlan.internetTag.enable(),"on"==r.iptvVlan.internetTag.getValue()?(r.iptvVlan.internetVid.enable(),r.iptvVlan.internetVprio.enable()):(r.iptvVlan.internetVid.disable(),r.iptvVlan.internetVprio.disable());else r.iptvVlan.internetVid.disable(),r.iptvVlan.internetVprio.disable(),r.iptvVlan.internetTag.disable();else V.iptvVlanView.internetVlan.hide();if("on"==a["iptvItem"])if(V.iptvVlanView.iptvVlanV.show(),r.iptvVlan.iptvVid.setValue(a["iptvVid"]),r.iptvVlan.iptvVprio.setValue(a["iptvVprio"]),r.iptvVlan.iptvTag.setValue(a["iptvTag"]),"enable"==n)r.iptvVlan.iptvTag.enable(),"on"==(t=r.iptvVlan.iptvTag.getValue())?(r.iptvVlan.iptvVid.enable(),r.iptvVlan.iptvVprio.enable()):(r.iptvVlan.iptvVid.disable(),r.iptvVlan.iptvVprio.disable());else r.iptvVlan.iptvVid.disable(),r.iptvVlan.iptvVprio.disable(),r.iptvVlan.iptvTag.disable();if("on"==a["ipphoneItem"]&&(V.iptvVlanView.voipVlan.show(),r.iptvVlan.ipphoneVid.setValue(a["ipphoneVid"]),r.iptvVlan.ipphoneVprio.setValue(a["ipphoneVprio"]),"enable"==n?(r.iptvVlan.ipphoneVid.enable(),r.iptvVlan.ipphoneVprio.enable()):(r.iptvVlan.ipphoneVid.disable(),r.iptvVlan.ipphoneVprio.disable())),"on"==a["mciptvItem"]){V.iptvVlanView.mciptvVlan.show(),r.iptvVlan.mciptvVid.setValue(a["mciptvVid"]),r.iptvVlan.mciptvVprio.setValue(a["mciptvVprio"]),r.iptvVlan.mciptvEnable.setValue(a["mciptvEnable"]);var t=r.iptvVlan.iptvTag.getValue();if("enable"==n&&"on"==t)r.iptvVlan.mciptvEnable.enable(),r.iptvVlan.mciptvEnable.setTips(""),"on"==r.iptvVlan.mciptvEnable.getValue()?(r.iptvVlan.mciptvVid.enable(),r.iptvVlan.mciptvVprio.enable()):(r.iptvVlan.mciptvVid.disable(),r.iptvVlan.mciptvVprio.disable());else r.iptvVlan.mciptvVid.disable(),r.iptvVlan.mciptvVprio.disable(),r.iptvVlan.mciptvEnable.disable(),r.iptvVlan.mciptvEnable.setTips(s.su.CHAR.NETWORK_IPTV.IPTV_MUL_TIP)}if(a["porttype"]!=undefined){var l=a["porttype"];V.iptvVlanView.lan1.setValue(l.split(" ")[0]),V.iptvVlanView.lan2.setValue(l.split(" ")[1]),V.iptvVlanView.lan3.setValue(l.split(" ")[2]),V.iptvVlanView.lan4.setValue(l.split(" ")[3]),"enable"==n?(V.iptvVlanView.lan1.enable(),V.iptvVlanView.lan2.enable(),V.iptvVlanView.lan3.enable(),V.iptvVlanView.lan4.enable()):(V.iptvVlanView.lan1.disable(),V.iptvVlanView.lan2.disable(),V.iptvVlanView.lan3.disable(),V.iptvVlanView.lan4.disable())}else V.iptvVlanView.allVlan.hide();if(a["seltype"]!=undefined){V.iptvVlanView.lan1.disableItems(["Internet","IPTV","IP-Phone","Bridge"]),V.iptvVlanView.lan2.disableItems(["Internet","IPTV","IP-Phone","Bridge"]),V.iptvVlanView.lan3.disableItems(["Internet","IPTV","IP-Phone","Bridge"]),V.iptvVlanView.lan4.disableItems(["Internet","IPTV","IP-Phone","Bridge"]);for(var p=0,o=a["seltype"].split(" ").length;p<o;p++)V.iptvVlanView.lan1.enableItems(a["seltype"].split(" ")[p]),V.iptvVlanView.lan2.enableItems(a["seltype"].split(" ")[p]),V.iptvVlanView.lan3.enableItems(a["seltype"].split(" ")[p]),V.iptvVlanView.lan4.enableItems(a["seltype"].split(" ")[p])}else V.iptvVlanView.allVlan.hide();"none"===r.iptvVlan.mode.getValue()&&V.iptvVlanView.allVlan.hide()}}}})}},function(t,l,p,n,o,v){var i=null;return{lanNum:4,MODE:{"ADVANCED":"advanced","QUICK_SETUP":"qs"},setMode:function(e){i=e},getMode:function(){return i},startup:function(n){p.iptvVlan.load({success:function(e){if(t.initModeStore(),t.getMode()==t.MODE.ADVANCED){if(o.quickSetup.isSupportSetPort()?p.iptvPortModel.load({success:function(e){t.setlanLabels()}}):t.setlanLabels(),p.iptvVlan.enable.enable(),!v.device.getLanIptv()&&"1"==p.lanAdvLinkAggModel.enableAgg.getValue()){p.iptvVlan.enable.disable(),v.device.getConfig().supportLanAggCfg&&(p.iptvVlan.mode.hide(),l.iptvVlanView.iptvConfigWrap.hide());var i='<a href="#lanAdv">'+s.su.CHAR.NETWORK_IPTV.LA+"</a>",a=s.su.CHAR.NETWORK_IPTV.IPTV_DISABLE_TIPS.replace("%function%",i);p.iptvVlan.enable.setTips(a)}}else t.setlanLabels(),p.iptvVlan.enable.hide(),"kr"!==v.device.getConfig().country&&p.iptvVlan.mode.setLabelField(s.su.CHAR.NETWORK_IPTV.ISP_PRO),t.isEditable()?p.iptvVlan.enable.setValue("on"):(p.iptvVlan.mode.disable(),p.iptvVlan.enable.setValue("off"));n&&(p.iptvVlan.mode.enable(),p.iptvVlan.mode.setValue(n))}})},setlanLabels:function(){var e=p.iptvVlan.ports.getValue().split(" ");if(o.quickSetup.isSupportSetPort()){var i="1000WAN"===(t.getMode()===t.MODE.QUICK_SETUP?p.quickSetupModel.wanPortStatus.getValue():p.iptvPortModel.wanPortStatus.getValue())?s.su.CHAR.NETWORK_MAP.PORT_2500LAN:s.su.CHAR.NETWORK_MAP.PORT_1000LAN;l.iptvVlanView["lan4"].setLabelField(i),e.pop()}for(var a=0;a<e.length;a++)l.iptvVlanView["lan"+(a+1)].setLabelField(s.su.CHAR.NETWORK_IPTV.LAN+e[a])},atLeastOne:function(){for(var e=t.lanNum,i=!1,a=1;a<=e;a++)"Internet"==l.iptvVlanView["lan"+a].getValue()&&(i=!0);return!!i||(l.iptvVlanView["lan"+e].setError(s.su.CHAR.ERROR["00000095"]),!1)},vidSame:function(){if("Custom"!==p.iptvVlan.mode.getValue())return!0;var e=function(e,i){var a=p.iptvVlan[e].getValue()-0,n=p.iptvVlan[i].getValue()-0,t=p.iptvVlan[e].isEnabled(),l=p.iptvVlan[i].isEnabled();return!(!t||!l||a!=n)};return e("internetVid","ipphoneVid")?(p.iptvVlan.ipphoneVid.setError(s.su.CHAR.ERROR["00000094"]),!1):e("ipphoneVid","iptvVid")||e("internetVid","iptvVid")?(p.iptvVlan.iptvVid.setError(s.su.CHAR.ERROR["00000094"]),!1):!(e("ipphoneVid","mciptvVid")||e("internetVid","mciptvVid")||e("iptvVid","mciptvVid"))||(p.iptvVlan.mciptvVid.setError(s.su.CHAR.ERROR["00000094"]),!1)},syncQsData:function(){var e=p.iptvVlan.getData(),a=p.quickSetupModel,i=["ispSpecialInternetVid","ispSpecialInternetVprio","ispSpecialInternetTag","ispSpecialIpphoneVid","ispSpecialIpphoneVprio","ispSpecialIptvVid","ispSpecialIptvVprio","ispSpecialMciptvEnable"];if(p.iptvVlan.validate()&&t.vidSame()&&t.atLeastOne()){switch(a.replaceData({ispSpecialMode:e.mode,ispSpecialEnable:"on"}),e.mode){case"none":a.ispSpecialEnable.setValue("off"),n(i);break;case"Bridge":case"Bridge_KT":case"Bridge_SKT":case"Bridge_LG":a.replaceData({ispSpecialInternetTag:"off",ispSpecialMciptvEnable:"off"});break;case"Custom":a.replaceData({ispSpecialEnable:e.enable,ispSpecialInternetVid:Number(e.internetVid),ispSpecialInternetVprio:e.internetVprio,ispSpecialInternetTag:e.internetTag,ispSpecialIpphoneVid:Number(e.ipphoneVid),ispSpecialIpphoneVprio:e.ipphoneVprio,ispSpecialIptvVid:Number(e.iptvVid),ispSpecialIptvVprio:e.iptvVprio,ispSpecialMciptvEnable:e.mciptvEnable}),"on"===e.mciptvEnable&&a.replaceData({ispSpecialMciptvVid:Number(e.mciptvVid),ispSpecialMciptvVprio:e.mciptvVprio});break;default:n(i)}return"none"!==e.mode&&a.replaceData({ispSpecialPorttype:e.porttype}),p.qsSummaryModel.ispProfile.setValue(p.iptvVlan.mode.getText()),!0}return!1;function n(e){for(var i=e.length-1;i--;0<=i)a[e[i]].setValue("")}},isEditable:function(){return!(v.device.getConfig().supportLanAggCfg&&"1"==p.lanAdvLinkAggModel.enableAgg.getValue()&&!v.device.getLanIptv())},initModeStore:function(){var e=t.filterModeSotre(),i=t.getNoneModeOption();n.modeStore.loadItems(i.concat(e))},filterModeSotre:function(){var e=n.modeStore.getData(),i=p.iptvVlan.supportModeList.getValue();return i&&i.length?s.grep(e,function(e){return-1<s.inArray(e.value,i)}):e},getNoneModeOption:function(){return t.getMode()!==t.MODE.QUICK_SETUP?[]:[{name:s.su.CHAR.NETWORK_IPTV.NONE,value:"none",boxlabel:"mode16"}]},handleKRSet:function(){p.iptvVlan.mode.setLabelField(s.su.CHAR.NETWORK_IPTV.ISP);var e=n.modeStore.getData();s.each(e,function(e){delete e.key});for(var i=-1,a=0;a<e.length;a++)if("Bridge"==e[a].value){e.splice(a,1),i=a;break}0<=i&&(e.splice(i,0,{name:s.su.CHAR.NETWORK_IPTV.BRIDGE+"(KT)",value:"Bridge_KT",boxlabel:"mode17"},{name:s.su.CHAR.NETWORK_IPTV.BRIDGE+"(SKT)",value:"Bridge_SKT",boxlabel:"mode18"},{name:s.su.CHAR.NETWORK_IPTV.BRIDGE+"(LG U+)",value:"Bridge_LG",boxlabel:"mode19"}),n.modeStore.loadData(e))}}})}(jQuery),$.su.storeManager.define("modeStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[{name:$.su.CHAR.NETWORK_IPTV.SINGAPORE_SINGTEL,value:"ExStream",boxlabel:"mode0"},{name:$.su.CHAR.NETWORK_IPTV.MALAYSIA_UNIFI,value:"Unifi",boxlabel:"mode1"},{name:$.su.CHAR.NETWORK_IPTV.MALAYSIA_MAXIS,value:"Maxis",boxlabel:"mode2"},{name:$.su.CHAR.NETWORK_IPTV.MALAYSIA_MAXIS2,value:"Maxis2",boxlabel:"mode10"},{name:$.su.CHAR.NETWORK_IPTV.CELCOM,value:"Celcom",boxlabel:"mode11"},{name:$.su.CHAR.NETWORK_IPTV.VIETNAM_VIETTEL,value:"Vietnam",boxlabel:"mode3"},{name:$.su.CHAR.NETWORK_IPTV.PORTUGAL_MEO,value:"MEO",boxlabel:"mode4"},{name:$.su.CHAR.NETWORK_IPTV.PORTUGAL_VODAFONE,value:"VDF",boxlabel:"mode5"},{name:$.su.CHAR.NETWORK_IPTV.AUSTRALIA_NBN,value:"nbn",boxlabel:"mode6"},{name:$.su.CHAR.NETWORK_IPTV.NEWZEALAND_UFB,value:"ufb",boxlabel:"mode7"},{name:$.su.CHAR.NETWORK_IPTV.TELEKOM1,value:"TELEKOM1",boxlabel:"mode12"},{name:$.su.CHAR.NETWORK_IPTV.TELEKOM2,value:"TELEKOM2",boxlabel:"mode13"},{name:$.su.CHAR.NETWORK_IPTV.AIS,value:"AIS",boxlabel:"mode14"},{name:$.su.CHAR.NETWORK_IPTV.CENTURYLINK,value:"CENTURYLINK",boxlabel:"mode15"},{name:$.su.CHAR.NETWORK_IPTV.BRIDGE,value:"Bridge",boxlabel:"mode8"},{name:$.su.CHAR.NETWORK_IPTV.CUSTOM,value:"Custom",boxlabel:"mode9"}]}),$.su.storeManager.define("lanStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[{name:$.su.CHAR.NETWORK_IPTV.INTERNET,value:"Internet",boxlabel:"lanmode0"},{name:$.su.CHAR.NETWORK_IPTV.IPTV,value:"IPTV",boxlabel:"lanmode1"},{name:$.su.CHAR.NETWORK_IPTV.VOLP,value:"IP-Phone",boxlabel:"lanmode2"},{name:$.su.CHAR.NETWORK_IPTV.BRIDGE,value:"Bridge",boxlabel:"lanmode3"}]}),$.su.storeManager.define("lanTagStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[{name:$.su.CHAR.NETWORK_IPTV.TAGGED,value:"tagged",boxlabel:"lanTag0"},{name:$.su.CHAR.NETWORK_IPTV.UNTAGGED,value:"untagged",boxlabel:"lanTag1"}]}),$.su.storeManager.define("lanPriorityStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[{name:"0",value:0,boxlabel:"lanPriority0"},{name:"1",value:1,boxlabel:"lanPriority1"},{name:"2",value:2,boxlabel:"lanPriority2"},{name:"3",value:3,boxlabel:"lanPriority3"},{name:"4",value:4,boxlabel:"lanPriority4"},{name:"5",value:5,boxlabel:"lanPriority5"},{name:"6",value:6,boxlabel:"lanPriority6"},{name:"7",value:7,boxlabel:"lanPriority7"}]}),$.su.storeManager.define("iptvVlanStore",{type:"store",fields:[{name:"lan"},{name:"lanTag"},{name:"lanComb"},{name:"lanVid",vtype:{vtype:"number",min:1,max:4096,minMaxText:$.su.CHAR.NETWORK_IPTV.VALUE_TIPS},allowBlank:!1},{name:"lanPriority"},{name:"lanTips"}],convert:function(e){for(var i=[],a=e.ports.split(" "),n=e.porttype.split(" "),t=0;t<a.length;t++)i[t]={},i[t]["lan"]="IP-Phone"===n[t]?"VoIP":n[t],i[t]["lanTag"]=e["lan"+a[t]+"Tag"],i[t]["lanVid"]=e["lan"+a[t]+"Vid"],i[t]["lanPriority"]=e["lan"+a[t]+"Priority"];return i},serialize:function(e){return{}},proxy:{url:$.su.url("/admin/iptv?form=setting")}}),$.su.define("iptvProxy",{extend:"IPFProxy",url:$.su.url("/admin/iptv?form=setting"),preventSuccessEvent:!0}),$.su.modelManager.define("iptvPortModel",{type:"model",fields:[{name:"wanPortStatus",mapping:"wan_port_status"}],proxy:{url:$.su.url("/admin/network?form=wan_port_status")}});